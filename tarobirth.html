<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>타로 생일수 계산기</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f0f0f0;
        }

        .card-name {
            font-size: 20px;
            font-weight: bold;
        }

        .card-meaning {
            margin-top: 10px;
            font-size: 16px;
            color: #555;
        }

        .tarot-result {
            margin-top: 20px;
        }

        .tarot-result div {
            margin-bottom: 10px;
        }

        .select-container {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>타로 생일수 계산기</h1>

    <div class="select-container">
        <label for="calendarType">날짜 형식 선택:</label>
        <input type="radio" id="solar" name="calendarType" value="solar" checked> 양력
        <input type="radio" id="lunar" name="calendarType" value="lunar"> 음력
    </div>

    <div class="select-container">
        <label for="year">년도:</label>
        <select id="year"></select>
    </div>

    <div class="select-container">
        <label for="month">월:</label>
        <select id="month"></select>
    </div>

    <div class="select-container">
        <label for="day">일:</label>
        <select id="day"></select>
    </div>

    <div class="tarot-result">
        <h3>결과:</h3>
        <div id="solarDate">양력: -</div>
        <div id="lunarDate">음력: -</div>

        <div id="solarCardInfo"></div>
        <div id="lunarCardInfo"></div>
        <div id="shadowCardInfo"></div>
        <div id="soulCardInfo"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/solar2lunar/dist/solar2lunar.min.js"></script>
    <script>
        // 타로 카드 배열
        const tarotCards = [
            {
                name: "마법사(The Magician)",
                number: "1",
                meaning: "창조성, 의지력, 새로운 시작, 재능과 능력의 발현. 적극적이고 진취적인 성격, 독창성과 창의력이 뛰어납니다."
            },
            {
                name: "여사제(The High Priestess)",
                number: "2",
                meaning: "직관, 신비, 내면의 지혜, 깊은 통찰력. 영적 감수성이 풍부하며, 비밀을 잘 지키는 신중한 성격, 학문과 연구에 재능이 있습니다."
            },
            {
                name: "여왕(The Empress)",
                number: "3",
                meaning: "풍요, 창조, 모성, 예술적 감각. 따뜻한 보살핌과 포용력을 지니며, 자연과의 조화를 중시합니다."
            },
            {
                name: "황제(The Emperor)",
                number: "4",
                meaning: "권위, 안정, 성취, 강한 리더십. 논리적이고 실용적인 성격, 목표 지향적이며 책임감이 강합니다."
            },
            {
                name: "교황(The Hierophant)",
                number: "5",
                meaning: "전통, 가르침, 신념, 도덕적 가치관. 지식 전달과 교육에 재능이 있으며, 영적 지도자의 기질을 가집니다."
            },
            {
                name: "연인(The Lovers)",
                number: "6",
                meaning: "선택, 사랑, 조화, 균형. 인간관계가 원만하고 친화력이 좋으며, 심미적 감각이 뛰어나고 균형 잡힌 판단력을 지닙니다."
            },
            {
                name: "전차(The Chariot)",
                number: "7",
                meaning: "승리, 진보, 의지, 강한 추진력. 목표를 향한 끈기와 인내, 자기통제력이 뛰어납니다."
            },
            {
                name: "힘(Strength)",
                number: "8",
                meaning: "용기, 인내, 내적 힘, 강인한 정신력. 온화하면서도 단호한 성격, 감정 조절능력이 뛰어납니다."
            },
            {
                name: "은둔자(The Hermit)",
                number: "9",
                meaning: "성찰, 지혜, 고독, 깊은 통찰력. 독립적이고 자족적인 성격, 영적 깨달음을 추구합니다."
            },
            {
                name: "운명의 수레바퀴(Wheel of Fortune)",
                number: "10",
                meaning: "변화, 기회, 순환, 적응력. 융통성이 뛰어나며, 행운을 잘 활용하고 변화를 긍정적으로 받아들입니다."
            },
            {
                name: "정의(Justice)",
                number: "11",
                meaning: "정의, 균형, 진실, 공정성. 객관적인 판단력을 지니며, 도덕성과 윤리의식이 강하고 조화와 균형을 추구합니다."
            },
            {
                name: "매달린 사람(The Hanged Man)",
                number: "12",
                meaning: "희생, 깨달음, 인내, 새로운 관점. 자기희생과 봉사정신이 강하며, 역경을 통한 성장을 이룹니다."
            },
            {
                name: "죽음(Death)",
                number: "13",
                meaning: "변화, 끝과 시작, 재생, 과감한 결단력. 개혁정신이 강하며, 변화를 두려워하지 않고 새로운 시작을 위한 정화를 추구합니다."
            },
            {
                name: "절제(Temperance)",
                number: "14",
                meaning: "조화, 중용, 치유, 균형. 균형 잡힌 성격과 중재능력을 지니며, 치유와 회복의 재능이 있고 조화로운 통합을 추구합니다."
            },
            {
                name: "악마(The Devil)",
                number: "15",
                meaning: "욕망, 집착, 속박, 강한 개성. 물질적 성공에 대한 야망이 있으며, 자유와 해방을 추구합니다."
            },
            {
                name: "탑(The Tower)",
                number: "16",
                meaning: "파괴, 해방, 각성, 혁신. 파격적인 성격을 지니며, 급진적 변화를 추구하고 과감한 도전정신을 가집니다."
            },
            {
                name: "별(The Star)",
                number: "17",
                meaning: "희망, 영감, 치유, 낙관성. 이상적인 성격을 지니며, 예술적 영감과 창조성, 미래에 대한 비전을 가집니다."
            },
            {
                name: "달(The Moon)",
                number: "18",
                meaning: "직관, 환상, 감수성, 신비. 예민하고 섬세한 감성을 지니며, 풍부한 상상력과 창의성, 신비로운 매력을 가집니다."
            },
            {
                name: "태양(The Sun)",
                number: "19",
                meaning: "성공, 활력, 행복, 긍정성. 밝고 긍정적인 성격을 지니며, 타고난 리더십과 성공과 번영의 기운을 가집니다."
            },
            {
                name: "심판(Judgement)",
                number: "20",
                meaning: "부활, 각성, 소명, 혁신. 높은 사명감과 책임감을 지니며, 자기혁신의 능력과 영적 깨달음을 추구합니다."
            },
            {
                name: "세계(The World)",
                number: "21",
                meaning: "완성, 통합, 성취, 포용력. 세계적인 시야와 통찰력을 지니며, 궁극적 목표 달성을 추구합니다."
            },
            {
                name: "바보(The Fool)",
                number: "0",
                meaning: "순수, 모험, 자유, 무한한 가능성. 자유분방하고 창의적인 성격, 새로운 도전을 즐기는 특성을 가집니다."
            }
        ];

        // 날짜 관련 변수
        const yearSelect = document.getElementById('year');
        const monthSelect = document.getElementById('month');
        const daySelect = document.getElementById('day');

        // 날짜 선택 초기화
        function initializeDateSelects() {
            let currentYear = new Date().getFullYear();
            for (let i = currentYear - 100; i <= currentYear + 1; i++) {
                let option = document.createElement('option');
                option.value = i;
                option.text = i;
                yearSelect.appendChild(option);
            }
            yearSelect.value = currentYear;
            updateMonths();
            updateDays();
        }

        // 월 선택 업데이트
        function updateMonths() {
            const monthCount = 12;
            monthSelect.innerHTML = '';
            for (let i = 1; i <= monthCount; i++) {
                let option = document.createElement('option');
                option.value = i;
                option.text = i;
                monthSelect.appendChild(option);
            }
        }

        // 일 선택 업데이트
        function updateDays() {
            const selectedYear = yearSelect.value;
            const selectedMonth = monthSelect.value;
            const daysInMonth = new Date(selectedYear, selectedMonth, 0).getDate();
            daySelect.innerHTML = '';
            for (let i = 1; i <= daysInMonth; i++) {
                let option = document.createElement('option');
                option.value = i;
                option.text = i;
                daySelect.appendChild(option);
            }
        }

        // 날짜에 해당하는 타로 카드 계산
        function calculateCards() {
            const selectedYear = yearSelect.value;
            const selectedMonth = monthSelect.value;
            const selectedDay = daySelect.value;

            const selectedDate = new Date(selectedYear, selectedMonth - 1, selectedDay);

            // 양력 날짜
            const solarDate = `${selectedYear}년 ${selectedMonth}월 ${selectedDay}일`;

            // 음력 날짜 변환
            const lunarDate = solar2lunar(selectedYear, selectedMonth, selectedDay);
            const lunarYear = lunarDate.lunarYear;
            const lunarMonth = lunarDate.lunarMonth;
            const lunarDay = lunarDate.lunarDay;
            const lunarDateString = `${lunarYear}년 ${lunarMonth}월 ${lunarDay}일`;

            // 카드를 계산 (숫자 합 계산)
            const solarCardNumber = calculateCardNumber(selectedYear, selectedMonth, selectedDay);
            const lunarCardNumber = calculateCardNumber(lunarYear, lunarMonth, lunarDay);

            // 결과 표시
            document.getElementById('solarDate').textContent = `양력: ${solarDate}`;
            document.getElementById('lunarDate').textContent = `음력: ${lunarDateString}`;

            displayCardInfo(solarCardNumber, 'solarCardInfo');
            displayCardInfo(lunarCardNumber, 'lunarCardInfo');

            // 그림자 카드와 영혼 카드 계산 (생년월일 합)
            const shadowCardNumber = calculateCardNumber(selectedYear, selectedMonth, selectedDay);
            const soulCardNumber = calculateCardNumber(selectedYear, selectedMonth, selectedDay);

            displayCardInfo(shadowCardNumber, 'shadowCardInfo');
            displayCardInfo(soulCardNumber, 'soulCardInfo');
        }

        // 카드 번호 계산 (생년월일 숫자의 합)
        function calculateCardNumber(year, month, day) {
            const dateSum = year + month + day;
            let cardNumber = dateSum % 22; // 카드 번호는 1~22 사이
            return cardNumber === 0 ? 22 : cardNumber;
        }

        // 카드 정보 표시
        function displayCardInfo(cardNumber, cardInfoDivId) {
            const card = tarotCards[cardNumber - 1];
            const cardInfoDiv = document.getElementById(cardInfoDivId);
            if (card) {
                cardInfoDiv.innerHTML = `
                    <div class="card-name">${card.name}</div>
                    <div class="card-meaning">${card.meaning}</div>
                `;
            } else {
                cardInfoDiv.innerHTML = '<div class="card-name">잘못된 카드 번호입니다.</div>';
            }
        }

        // 이벤트 리스너 추가
        document.querySelectorAll('input[name="calendarType"]').forEach(input => {
            input.addEventListener('change', calculateCards);
        });
        yearSelect.addEventListener('change', () => {
            updateDays();
            calculateCards();
        });
        monthSelect.addEventListener('change', () => {
            updateDays();
            calculateCards();
        });
        daySelect.addEventListener('change', calculateCards);

        // 페이지 로드 시 초기화
        initializeDateSelects();
    </script>
</body>
</html>
